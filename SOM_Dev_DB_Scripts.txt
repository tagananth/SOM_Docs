CREATE TABLE customer (
	customerid	bigint,
	customername	text,
	active		boolean,
	comments	text,
	addressline1	text,
	addressline2	text,
	addressline3	text,
	city		text,
	state		text,
	country		text,
	zipcode		text,
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (customerid)
);

CREATE TABLE users (
	userid bigint,
	active boolean,
	addressline1 text,
	addressline2 text,
	addressline3 text,
	city text,
	comments text,
	country text,
	countryname text,
	createdby bigint,
	createdbyname text,
	createddate timestamp,
	customerid bigint,
	customername text,
	emailid text,
	emailid1 text,
	employeeid text,
	firstname text,
	lastname text,
	mobileno text,
	mobileno1 text,
	modifiedby bigint,
	modifiedbyname text,
	modifieddate timestamp,
	otp int,
	password text,
	profileimageurl text,
	pwdchangedate timestamp,
	pwdchangeflag boolean,
	roleid text,
	rolename text,
	state text,
	statename text,
	status boolean,
	tokenkey text,
	tokenkeyexpirydate timestamp,
	username text,
	zipcode text,
	PRIMARY KEY (userid)
);

CREATE CUSTOM INDEX username_idx ON som_dev.users (username) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'true'};
CREATE CUSTOM INDEX customerid_idx ON som_dev.users (customerid) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'false'};
CREATE CUSTOM INDEX firstname_idx ON som_dev.users (firstname) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'true'};
CREATE CUSTOM INDEX lastname_idx ON som_dev.users (lastname) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'true'};
CREATE CUSTOM INDEX emailid_idx ON som_dev.users (emailid) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'true'};
CREATE CUSTOM INDEX emailid1_idx ON som_dev.users (emailid1) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'true'};
CREATE CUSTOM INDEX mobileno_idx ON som_dev.users (mobileno) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'false'};
CREATE CUSTOM INDEX mobileno1_idx ON som_dev.users (mobileno1) USING 'org.apache.cassandra.index.sasi.SASIIndex' WITH OPTIONS = {'mode': 'CONTAINS', 'analyzer_class': 'org.apache.cassandra.index.sasi.analyzer.StandardAnalyzer', 'case_sensitive': 'false'};





CREATE TABLE roles (
	roleid		text,
	rolename	text,
	customerid	bigint,
	comments	text,
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (roleid)
);

CREATE TABLE configuration (
	configurationid	bigint,
	configurationname	text,
	customerid	bigint,
	active		boolean,
	type		text,	//Email/SMS
	source		text, //Primary/Secondary
	fromid		text,
	fromname	text,
	accountsid	text, // Only For SMS
	hostaddress 	text,
	username	text,
	password	text, 
	authtoken	text,// Only For SMS
	porttls		text,
	portsls		text,
	comments	text,
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (configurationid)
);

CREATE TABLE group (
	groupid		bigint,
	groupname	text,
	customerid	bigint,
	active		boolean,
	comments	text,
	type		text,	//Email/SMS
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (groupid)
);


CREATE TABLE groupmember (
	groupmemberid	bigint,
	groupid		bigint,
	groupname	text,
	customerid	text,
	userid		bigint,
	username	text,
	usercontact	text,  //0,1,2...
	parentgroupname	text,
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (groupmemberid )
);


CREATE TABLE messages (
	messageid	bigint,
	sendid		text,
	instanceid	text,
	customerid	bigint,
	userid		bigint,
	username	text,
	groupid		bigint,
	groupname	text,
	configurationid	bigint,
	configurationname	text,
	type		text,	//Email/SMS
	source		text, //Primary/Secondary
	emailid		text, 
	mobileno	text,
	templateid	text,
	message		text,
	messagestatus	text,	//New/Open/Completed/Error/Acknowledged/NotAcknowledged/Hold
	createdby	bigint,
	createdbyname	text,
	createddate	timestamp,
	modifiedby	bigint,
	modifiedbyname	text,
	modifieddate	timestamp,
	status		boolean,
	PRIMARY KEY (messageid)
)WITH CLUSTERING ORDER BY ( modifieddate  DESC);



CREATE TABLE attachments (
	attachmentid	bigint,
	messageid	bigint,
	attachmenturl   text,
	PRIMARY KEY (attachmentid)
)
